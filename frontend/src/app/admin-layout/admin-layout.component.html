<div class="app-container">
  <div class="sidebar">
    <h2>NeoTM</h2>
    <a routerLink="/admin/dashboard" routerLinkActive="active" [class.active]="currentView === 'home'" (click)="setCurrentView('home')">
      <i class="fas fa-home icon"></i> Tableau de Bord 
    </a>

    <!-- Menu déroulant Administration -->
    <div class="sidebar-group">
      <button class="sidebar-dropdown" (click)="toggleDropdown('admin')">
        <i class="fas fa-user-shield icon"></i> Administration
        <i class="fas fa-chevron-down dropdown-arrow"></i>
      </button>
      <div class="sidebar-submenu" [class.open]="dropdowns['admin']">
        <a routerLink="/admin/gestion-utilisateur" routerLinkActive="active" [class.active]="currentView === 'users'" (click)="setCurrentView('users')">
          <i class="fas fa-users icon"></i> Utilisateurs
        </a>
        <a routerLink="/admin/gestion-roles" routerLinkActive="active" [class.active]="currentView === 'roles'" (click)="setCurrentView('roles')">
          <i class="fas fa-user-tag icon"></i> Rôles
        </a>
        <a routerLink="/admin/gestion-licences" routerLinkActive="active" [class.active]="currentView === 'licenses'" (click)="setCurrentView('licenses')">
          <i class="fas fa-id-card icon"></i> Licences
        </a>
        <a routerLink="/admin/audit" routerLinkActive="active" [class.active]="currentView === 'audit'" (click)="setCurrentView('audit')">
          <i class="fas fa-clipboard-list icon"></i> Journalisation et Audit
        </a>
       
      </div>
    </div>

    <!-- Menu déroulant Gestion Documents -->
    <div class="sidebar-group">
      <button class="sidebar-dropdown" (click)="toggleDropdown('docs')">
        <i class="fas fa-folder-open icon"></i> Gestion Documents
        <i class="fas fa-chevron-down dropdown-arrow"></i>
      </button>
      <div class="sidebar-submenu" [class.open]="dropdowns['docs']">
        <a routerLink="/admin/gestionnaire-de-doc" routerLinkActive="active" [class.active]="currentView === 'import'" (click)="setCurrentView('import')">
          <i class="fas fa-file-import icon"></i> Importation & versioning
        </a>
        <a routerLink="/admin/gestionnaire-de-doc" routerLinkActive="active" [class.active]="currentView === 'annotations'" (click)="setCurrentView('annotations')">
          <i class="fas fa-highlighter icon"></i> Annotations & validations
        </a>
        <a routerLink="/admin/gestionnaire-de-doc" routerLinkActive="active" [class.active]="currentView === 'search'" (click)="setCurrentView('search')">
          <i class="fas fa-search icon"></i> Recherche sémantique
        </a>
        <a routerLink="/admin/gestionnaire-de-doc" routerLinkActive="active" [class.active]="currentView === 'archive'" (click)="setCurrentView('archive')">
          <i class="fas fa-archive icon"></i> Archivage sécurisé
        </a>
      </div>
    </div>

    <!-- Menu déroulant Gestion Campagnes -->
    <div class="sidebar-group">
      <button class="sidebar-dropdown" (click)="toggleDropdown('campagnes')">
        <i class="fas fa-tasks icon"></i> Gestion Campagnes
        <i class="fas fa-chevron-down dropdown-arrow"></i>
      </button>
      <div class="sidebar-submenu" [class.open]="dropdowns['campagnes']">
        <a routerLink="/admin/g-de-campagne" routerLinkActive="active" [class.active]="currentView === 'planification'" (click)="setCurrentView('planification')">
          <i class="fas fa-calendar-plus icon"></i> Création / duplication / planification
        </a>
        <a routerLink="/admin/g-de-campagne" routerLinkActive="active" [class.active]="currentView === 'association'" (click)="setCurrentView('association')">
          <i class="fas fa-link icon"></i> Association de documents
        </a>
        <a routerLink="/admin/g-de-campagne" routerLinkActive="active" [class.active]="currentView === 'suivi'" (click)="setCurrentView('suivi')">
          <i class="fas fa-clipboard-check icon"></i> Suivi d'exécution
        </a>
        <a routerLink="/admin/g-de-campagne" routerLinkActive="active" [class.active]="currentView === 'rapports'" (click)="setCurrentView('rapports')">
          <i class="fas fa-bell icon"></i> Rapports & alertes IA
        </a>
      </div>
    </div>

    <!-- Menu déroulant Gestion Exécutions -->
    <div class="sidebar-group">
      <button class="sidebar-dropdown" (click)="toggleDropdown('executions')">
        <i class="fas fa-calendar-check icon"></i> Gestion Exécutions
        <i class="fas fa-chevron-down dropdown-arrow"></i>
      </button>
      <div class="sidebar-submenu" [class.open]="dropdowns['executions']">
        <a routerLink="/admin/g-dexecution" routerLinkActive="active" [class.active]="currentView === 'historique'" (click)="setCurrentView('historique')">
          <i class="fas fa-history icon"></i> Historique d'exécution
        </a>
        <a routerLink="/admin/g-dexecution" routerLinkActive="active" [class.active]="currentView === 'stats'" (click)="setCurrentView('stats')">
          <i class="fas fa-chart-bar icon"></i> Statistiques & évolution des erreurs
        </a>
      </div>
    </div>

  


    <!-- Menu déroulant Connecteurs & Intégration -->
    <div class="sidebar-group">
      <button class="sidebar-dropdown" (click)="toggleDropdown('connecteurs')">
        <i class="fas fa-plug icon"></i> Connecteurs & Intégration
        <i class="fas fa-chevron-down dropdown-arrow"></i>
      </button>
      <div class="sidebar-submenu" [class.open]="dropdowns['connecteurs']">
        <a routerLink="/admin/administration" routerLinkActive="active" [class.active]="currentView === 'sirh'" (click)="setCurrentView('sirh')">
          <i class="fas fa-database icon"></i> SIRH / Excel / API
        </a>
        <a routerLink="/admin/administration" routerLinkActive="active" [class.active]="currentView === 'monitoring'" (click)="setCurrentView('monitoring')">
          <i class="fas fa-tachometer-alt icon"></i> Monitoring des flux
        </a>
      </div>
    </div>
  </div>

  <div class="main">
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

